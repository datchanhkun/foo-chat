{"ast":null,"code":"import axios from \"axios\";\n/**\r\n * set the default token header for axios request\r\n * @param token\r\n * @constructor\r\n */\n\nexport function TokenHeader(token) {\n  if (token) {\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  } else {\n    delete axios.defaults.headers.common[\"Authorization\"];\n  }\n}\n/**\r\n * axios request handler\r\n * @param method\r\n * @param path\r\n * @param data\r\n * @returns {Promise}\r\n */\n\nexport function restApi(method, path, data) {\n  return new Promise((resolve, reject) => {\n    return axios[method](path, data).then(response => {\n      return resolve(response.data.message);\n    }).catch(error => {\n      return reject(error.response.data);\n    });\n  });\n}","map":{"version":3,"sources":["/Users/macbook/Desktop/App Foo Chat/simply-chat/client/src/services/api.js"],"names":["axios","TokenHeader","token","defaults","headers","common","restApi","method","path","data","Promise","resolve","reject","then","response","message","catch","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA;;;;;;AAKA,OAAO,SAASC,WAAT,CAAqBC,KAArB,EAA2B;AAC9B,MAAGA,KAAH,EAAS;AACLF,IAAAA,KAAK,CAACG,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAkD,UAASH,KAAM,EAAjE;AACH,GAFD,MAGI;AACA,WAAOF,KAAK,CAACG,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,CAAP;AACH;AACJ;AAED;;;;;;;;AAOA,OAAO,SAASC,OAAT,CAAiBC,MAAjB,EAAyBC,IAAzB,EAA+BC,IAA/B,EAAoC;AACvC,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,WAAOZ,KAAK,CAACO,MAAD,CAAL,CAAcC,IAAd,EAAoBC,IAApB,EACFI,IADE,CACIC,QAAD,IAAc;AAChB,aAAOH,OAAO,CAACG,QAAQ,CAACL,IAAT,CAAcM,OAAf,CAAd;AACH,KAHE,EAIFC,KAJE,CAIKC,KAAD,IAAW;AACd,aAAOL,MAAM,CAACK,KAAK,CAACH,QAAN,CAAeL,IAAhB,CAAb;AACP,KANM,CAAP;AAOH,GARM,CAAP;AASH","sourcesContent":["import axios from \"axios\";\r\n\r\n/**\r\n * set the default token header for axios request\r\n * @param token\r\n * @constructor\r\n */\r\nexport function TokenHeader(token){\r\n    if(token){\r\n        axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n    }\r\n    else{\r\n        delete axios.defaults.headers.common[\"Authorization\"];\r\n    }\r\n}\r\n\r\n/**\r\n * axios request handler\r\n * @param method\r\n * @param path\r\n * @param data\r\n * @returns {Promise}\r\n */\r\nexport function restApi(method, path, data){\r\n    return new Promise((resolve, reject) => {\r\n        return axios[method](path, data)\r\n            .then((response) => {                \r\n                return resolve(response.data.message)     \r\n            })\r\n            .catch((error) => {\r\n                return reject(error.response.data)\r\n        });\r\n    })\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}